@model JamesQMurphy.Blog.ArticleMetadata
@inject JamesQMurphy.Blog.IMarkdownHtmlRenderer Renderer

@section Scripts {
    <script type="text/javascript" src="/dist/lib/mermaid/dist/mermaid.min.js" asp-append-version="true"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
}


@{
    var title = String.Empty;
    if (ViewData.ContainsKey(Constants.VIEWDATA_PAGETITLE))
    {
        title = ViewData[Constants.VIEWDATA_PAGETITLE].ToString();
    }
    if (Model != null)
    {
        if (!String.IsNullOrWhiteSpace(Model.Title))
        {
            title = Model.Title;
        }
    }
}

<article>
    @if (!String.IsNullOrWhiteSpace(title))
    {
        <h1 class="display-4">@title</h1>
    }
    @if (Model != null)
    {
        @if (!String.IsNullOrWhiteSpace(Model.Description))
        {
            <h5>@Model.Description</h5>
        }
        <h6 class="text-muted font-weight-light"><small>by JamesQMurphy | @Model.PublishDate.ToString("MMMM d, yyyy")</small></h6>
    }
    <br />
    @if (ViewData.ContainsKey(Constants.VIEWDATA_MARKDOWN))
    {
        @Html.Raw(Renderer.RenderHtml(ViewData[Constants.VIEWDATA_MARKDOWN].ToString()))
    }
</article>
